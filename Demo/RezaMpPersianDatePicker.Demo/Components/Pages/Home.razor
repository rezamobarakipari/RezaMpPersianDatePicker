@page "/"
@using RezaMpPersianDatePicker.Components

@rendermode InteractiveServer
<div class="demo-container">

    <header class="demo-header">
        <h2>دموی انتخاب تاریخ فارسی</h2>
        <span>رضا مبارکی پری</span>
    </header>

    <div class="demo-body">

        <!-- Settings Panel -->
        <aside class="settings-panel">
            <h4>تنظیمات</h4>

            <div class="field">
                <label>تم</label>
                <select @bind="CurrentTheme">
                    @foreach (var t in Enum.GetValues<DatePickerTheme>())
                    {
                        <option value="@t">@t</option>
                    }
                </select>
            </div>

            <div class="field">
                <label>سایز</label>
                <select @bind="CurrentSize">
                    @foreach (var s in Enum.GetValues<DatePickerSize>())
                    {
                        <option value="@s">@s</option>
                    }
                </select>
            </div>

            <div class="field checkbox">
                <input type="checkbox" @bind="PopupMode" id="popupMode" />
                <label for="popupMode">حالت Popup</label>
            </div>
            <div class="field checkbox">
                <input type="checkbox" @bind="ShowSimple" id="ShowSimple" />
                <label for="ShowSimple">حالت تمام صفحه</label>
            </div>
            <div class="field">
                <label>تاریخ انتخاب شده: @SelectedDate</label>
            </div>
        </aside>

        <!-- Preview Panel -->
        <section class="preview-panel">
            <div class="datepicker-demo">
                <h3>نمونه DatePicker:</h3>


              @*   <button @onclick="ShowMessage">
                    کلیک کن (UI)
                </button> *@

                <p>@message</p>
                <RezaPersianDatePicker Theme="@CurrentTheme"
                                       Size="@CurrentSize"
                                       PopupMode="@PopupMode"
                                       Value="@SelectedDate"
                                       ShowSimple="ShowSimple"
                                       ValueChanged="@(v=>OnDateChanged(SelectedDate,v))"
                                       Placeholder="تاریخ را انتخاب کنید..."
                                       IsReadOnly="false" />
            </div>
        </section>

    </div>
</div>

@code {
    private string? SelectedDate = "1404/10/04"; // مقدار پیش‌فرض برای تست

    private DatePickerTheme CurrentTheme { get; set; } = DatePickerTheme.Metro;
    private DatePickerSize CurrentSize { get; set; } = DatePickerSize.Standard;
    private bool PopupMode { get; set; } = true;
    private bool ShowSimple { get; set; } = true;
    private async Task OnDateChanged(string propertyName, string value)
    {
        SelectedDate = value;

    }
    private string message = "";

    private void ShowMessage()
    {
        message = "کلیک کار کرد! " + DateTime.Now.ToString("HH:mm:ss");
    }
}

<style>
    .demo-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        font-family: "IRANSans", Tahoma, sans-serif;
    }

    .demo-header {
        text-align: center;
        margin-bottom: 40px;
        padding-bottom: 20px;
        border-bottom: 2px solid #eee;
    }

    .demo-body {
        display: grid;
        grid-template-columns: 300px 1fr;
        gap: 30px;
    }

    .settings-panel {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        border: 1px solid #dee2e6;
    }

        .settings-panel h4 {
            margin-bottom: 20px;
            color: #333;
        }

    .field {
        margin-bottom: 15px;
    }

        .field label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .field select,
        .field input[type="text"] {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: "IRANSans", Tahoma, sans-serif;
        }

    .checkbox {
        display: flex;
        align-items: center;
        gap: 10px;
    }

        .checkbox input {
            width: auto;
        }

    .preview-panel {
        background: white;
        padding: 30px;
        border-radius: 10px;
        border: 1px solid #dee2e6;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

 

    @@media (max-width: 768px) {
        .demo-body {
            grid-template-columns: 1fr;
        }
    }
</style>